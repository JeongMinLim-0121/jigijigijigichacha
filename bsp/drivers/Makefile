# --- Top-level Makefile for all driver modules ---

# í•˜ìœ„ ë“œë¼ì´ë²„ í´ë”ë“¤(í•„ìš” ì—†ëŠ” ê±´ ì§€ì›Œë„ ë¨)
SUBDIRS := encoder estop imu ledkey lidar motor power

.PHONY: all clean

all:
	@echo "== Building all driver modules =="
	@for dir in $(SUBDIRS); do \
		echo "[BUILD] $$dir"; \
		$(MAKE) -C $$dir || exit $$?; \
	done
	@echo "âœ… All modules built successfully!"

clean:
	@echo "== Cleaning all driver modules =="
	@for dir in $(SUBDIRS); do \
		echo "[CLEAN] $$dir"; \
		$(MAKE) -C $$dir clean || true; \
	done
	@echo "ğŸ§¹ All modules cleaned!"
